!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/travel/",r(r.s=12)}([function(e,t,r){e.exports=r(9)},function(e,t,r){"use strict";function n(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,c,"next",e)}function c(e){n(o,a,i,s,c,"throw",e)}s(void 0)})}}r.d(t,"a",function(){return a})},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return n})},function(e){e.exports={flightAirport:{db_values:{id:"number",code:"string",name:"string",carrier:"string",cost:"amount",address_id:"number",tz_offset:"number",dst:"boolean",preferred:"boolean",selectable:"boolean",created_at:"datetime",updated_at:"datetime"},transformKeys:{id:"id",code:"code",name:"name",carrier:"carrier",cost:"cost",address_id:"addressId",tz_offset:"tzOffset",dst:"dst",preferred:"preferred",selectable:"selectable",created_at:"createdAt",updated_at:"updatedAt"},config:{keyPath:["id"]},indexes:[["by-code","code"],["by-carrier","carrier"]]},flightLeg:{db_values:{id:"number",schedule_id:"number",flight_number:"string",departing_airport_id:"number",departing_at:"datetime",local_departing_at:"datetime",arriving_airport_id:"number",arriving_at:"datetime",local_arriving_at:"datetime",overnight:"boolean",is_subsidiary:"boolean",created_at:"datetime",updated_at:"datetime"},transformKeys:{id:"id",schedule_id:"scheduleId",flight_number:"flightNumber",departing_airport_id:"departingAirportId",departing_at:"departingAt",local_departing_at:"localDepartingAt",arriving_airport_id:"arriving_airportId",arriving_at:"arrivingAt",local_arriving_at:"localArrivingAt",overnight:"overnight",is_subsidiary:"isSubsidiary",created_at:"createdAt",updated_at:"updatedAt"},config:{keyPath:["id"]},indexes:[["by-schedule-id","scheduleId"],["by-departing-airport","departingAirportId"],["by-departing-at","departingAt"],["by-local-departing-at","localDepartingAt"],["by-arriving-airport","arrivingAirportId"],["by-arriving-at","arrivingAt"],["by-local-arriving-at","localArrivingAt"]]},flightSchedule:{db_values:{id:"number",parent_schedule_id:"number",pnr:"string",carrier_pnr:"string",operator:"string",route_summary:"string",created_at:"datetime",updated_at:"datetime"},transformKeys:{id:"id",parent_schedule_id:"parentScheduleId",pnr:"pnr",carrier_pnr:"carrierPnr",operator:"operator",route_summary:"routeSummary",created_at:"createdAt",updated_at:"updatedAt"},config:{keyPath:["id"]},indexes:[["by-parent","parentScheduleId"],["by-pnr","pnr"],["by-operator","operator"]]},flightTicket:{db_values:{id:"number",schedule_id:"number",traveler_id:"number",ticketed:"boolean",required:"boolean",ticket_number:"string",created_at:"datetime",updated_at:"datetime"},transformKeys:{id:"id",schedule_id:"scheduleId",traveler_id:"travelerId",ticketed:"ticketed",required:"required",ticket_number:"ticketNumber",created_at:"createdAt",updated_at:"updatedAt"},config:{keyPath:["id"]},indexes:[["by-schedule","scheduleId"],["by-traveler","travelerId"]]},inboundDomesticFlights:{db_values:{date:"date",code:"string",airport:"string",flights:"array"},transformKeys:{date:"date",code:"code",airport:"airport",flights:"flights"},config:{keyPath:["date","code"]},indexes:[["by-date","date"],["by-airport","airport"]]},outboundInternationalFlights:{db_values:{id:"number",schedule_id:"number",traveler_id:"number",ticketed:"boolean",required:"boolean",ticket_number:"string",is_checked_in:"boolean",created_at:"datetime",updated_at:"datetime",category:"string",full_name:"string",date:"date",code:"string",airport_name:"string",user_id:"number",dus_id:"string",local_departing_time:"time",wristband:"string"},transformKeys:{id:"id",schedule_id:"scheduleId",traveler_id:"travelerId",ticketed:"ticketed",required:"required",ticket_number:"ticketNumber",is_checked_in:"isCheckedIn",created_at:"createdAt",updated_at:"updatedAt",category:"category",full_name:"fullName",date:"date",code:"code",airport_name:"airportName",user_id:"userId",dus_id:"dusId",local_departing_time:"localDepartingTime",wristband:"wristband"},config:{keyPath:"id"},indexes:[["by-date","date"],["by-schedule","scheduleId"],["by-airport","code"],["by-dus-id","dusId"]]},travelers:{db_values:{id:"number",user_id:"number",team_id:"number",balance:"amount",shirt_size:"string",departing_date:"date",departing_from:"string",returning_date:"date",returning_to:"string",bus:"string",wristband:"string",hotel:"string",has_ground_transportation:"boolean",has_lodging:"boolean",has_gbr:"boolean",own_flights:"boolean",cancel_date:"date",cancel_reason:"string",created_at:"datetime",updated_at:"datetime"},transformKeys:{id:"id",user_id:"userId",team_id:"teamId",balance:"balance",shirt_size:"shirtSize",departing_date:"departingDate",departing_from:"departingFrom",returning_date:"returningDate",returning_to:"returningTo",has_ground_transportation:"hasGroundTransportation",has_lodging:"hasLodging",has_gbr:"hasGbr",own_flights:"ownFlights",cancel_date:"cancelDate",cancel_reason:"cancelReason",created_at:"createdAt",updated_at:"updatedAt"},config:{keyPath:"id"},indexes:[["by-id","id"],["by-user-id","userId"],["by-cancel-date","cancelDate"],["by-departing-date","departingDate"],["by-returning-date","returningDate"]]},users:{db_values:{id:"number",dus_id:"string",category_type:"string",category_id:"number",email:"string",title:"string",first:"string",middle:"string",last:"string",suffix:"string",print_first_names:"string",print_other_names:"string",nick_name:"string",keep_name:"boolean",address_id:"number",interest_id:"number",extension:"string",phone:"string",gender:"gender",birth_date:"date",updated_at:"datetime"},transformKeys:{id:"id",dus_id:"dusId",category_type:"categoryType",category_id:"categoryId",email:"email",title:"title",first:"first",middle:"middle",last:"last",suffix:"suffix",print_first_names:"printFirstNames",print_other_names:"printOtherNames",address_id:"addressId",interest_id:"interestId",extension:"extension",phone:"phone",gender:"gender",birth_date:"birthDate",updated_at:"updatedAt"},config:{keyPath:"id"},indexes:[["by-id","id"],["by-dus-id","dusId"],["by-updated-at","updatedAt"]]}}},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";(function(e){r.d(t,"c",function(){return h}),r.d(t,"a",function(){return b}),r.d(t,"b",function(){return g});var n=r(6),a=r(4),i=r(0),o=r.n(i),s=r(7),c=r(1),u=r(8),d=r(3);var l=function(){try{if(!("indexedDB"in e))return null}catch(e){if(!(e instanceof ReferenceError))return null}return Object(u.a)("down-under-travel",4,{upgrade:(t=Object(c.a)(o.a.mark(function e(t,r,n,a){var i,c,u,l,f,p;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(i in d)if(!t.objectStoreNames.contains(i))for(c=d[i],u=c.config,l=c.indexes,f=t.createObjectStore(i,u),p=0;p<l.length;p++)f.createIndex.apply(f,Object(s.a)(l[p]));return e.next=3,a.done;case 3:case"end":return e.stop()}},e)})),function(e,r,n,a){return t.apply(this,arguments)})});var t}();function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(o.a.mark(function t(r,n,a){var i,s,c,u=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=u.length>3&&void 0!==u[3]&&u[3],r){t.next=3;break}throw new Error("storeKey is required");case 3:if(t.prev=3,"indexedDB"in e){t.next=6;break}throw new Error("Unsupported Browser");case 6:t.next=12;break;case 8:if(t.prev=8,t.t0=t.catch(3),t.t0 instanceof ReferenceError){t.next=12;break}throw new Error("Unsupported Browser");case 12:return t.next=14,l;case 14:return s=t.sent,c=s.transaction(r,"readwrite"),t.prev=16,n(i?c:c.objectStore(r)),t.next=20,c.done;case 20:return t.abrupt("return",t.sent);case 23:throw t.prev=23,t.t1=t.catch(16),c.abort(),Error("".concat(a||"Transaction Failed",": ").concat(t.t1.toString()));case 27:case"end":return t.stop()}},t,null,[[3,8],[16,23]])}))).apply(this,arguments)}function h(e){var t=e.storeKey,r=e.records,n=void 0===r?[]:r;return f(t,function(e){return n.map(function(t){return e.put(t)})},e.errorMessage||"Record(s) were not saved")}function b(e){var t=e.storeKey,r=e.idKey,n=void 0===r?"id":r,a=e.records,i=void 0===a?[]:a;return f(t,function(e){return i.map(function(t){return e.delete(t[n||"id"])})},e.errorMessage||"Record(s) were not removed")}function g(e){var t,r,i,o,s,c=e.storeCallback,u=Object(a.a)(e,["storeCallback"]);return t=Object(n.a)({},u,{storeCallback:function(e){return c(e.getAll())},getTransaction:!1}),r=t.storeKey,i=t.storeCallback,o=t.errorMessage,s=t.getTransaction,f(r,i,o||"Record(s) were not retrieved",void 0!==s&&s)}}).call(this,r(11))},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(2);function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){Object(n.a)(e,t,r[t])})}return e}},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";const n=(e,t)=>t.some(t=>e instanceof t);let a,i;const o=new WeakMap,s=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let l={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return b(e[t])},has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){l=e(l)}function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(g(this),t),b(o.get(this))}:function(...t){return b(e.apply(g(this),t))}:function(t,...r){const n=e.call(g(this),t,...r);return c.set(n,t.sort?t.sort():[t]),b(n)}}function h(e){return"function"==typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),n()},i=()=>{r(e.error),n()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});s.set(e,t)}(e),n(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,l):e)}function b(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(b(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=h(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const g=e=>d.get(e);function m(e,t,{blocked:r,upgrade:n,blocking:a}={}){const i=indexedDB.open(e,t),o=b(i);return n&&i.addEventListener("upgradeneeded",e=>{n(b(i.result),e.oldVersion,e.newVersion,b(i.transaction))}),r&&i.addEventListener("blocked",()=>r()),a&&o.then(e=>e.addEventListener("versionchange",a)),o}const v=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],_=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(_.get(t))return _.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=y.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!a&&!v.includes(r))return;const i=async function(e,...t){const i=this.transaction(e,a?"readwrite":"readonly");let o=i.store;n&&(o=o.index(t.shift()));const s=o[r](...t);return a&&await i.done,s};return _.set(t,i),i}f(e=>({get:(t,r,n)=>w(t,r)||e.get(t,r,n),has:(t,r)=>!!w(t,r)||e.has(t,r)}));const x=["continue","continuePrimaryKey","advance"],k={},j=new WeakMap,S=new WeakMap,O={get(e,t){if(!x.includes(t))return e[t];let r=k[t];return r||(r=k[t]=function(...e){j.set(this,S.get(this)[t](...e))}),r}};async function*I(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,O);for(S.set(r,t),d.set(r,g(t));t;)yield r,t=await(j.get(r)||t.continue()),j.delete(r)}function N(e,t){return t===Symbol.asyncIterator&&n(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&n(e,[IDBIndex,IDBObjectStore])}f(e=>({get:(t,r,n)=>N(t,r)?I:e.get(t,r,n),has:(t,r)=>N(t,r)||e.has(t,r)})),r.d(t,"a",function(){return m})},function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),o=new I(n||[]);return i._invoke=function(e,t,r){var n=d;return function(a,i){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===a)throw i;return A()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=j(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var c=u(e,t,r);if("normal"===c.type){if(n=r.done?p:l,c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=p,r.method="throw",r.arg=c.arg)}}}(e,r,o),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",l="suspendedYield",f="executing",p="completed",h={};function b(){}function g(){}function m(){}var v={};v[i]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(N([])));_&&_!==r&&n.call(_,i)&&(v=_);var w=m.prototype=b.prototype=Object.create(v);function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function k(e){var t;this._invoke=function(r,a){function i(){return new Promise(function(t,i){!function t(r,a,i,o){var s=u(e[r],e,a);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?Promise.resolve(d.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(d).then(function(e){c.value=e,i(c)},function(e){return t("throw",e,i,o)})}o(s.arg)}(r,a,t,i)})}return t=t?t.then(i,i):i()}}function j(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=u(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return g.prototype=w.constructor=m,m.constructor=g,m[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(k.prototype),k.prototype[o]=function(){return this},e.AsyncIterator=k,e.async=function(t,r,n,a){var i=new k(c(t,r,n,a));return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},x(w),w[s]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t){try{window.global=window}catch(e){self.global=self,self.window=self}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(1),o=(r(10),r(2));function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)})(e)}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b,g=r(5),m=r(4),v=function e(t,r,n){var o=this;s(this,e),this.logValue=function(e){console.log(e,o.index)},this.stream=Object(i.a)(a.a.mark(function e(){var t,r,n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.read();case 2:if(t=e.sent,r=t.done,n=t.value,!r){e.next=7;break}return e.abrupt("return",o.close());case 7:return i=new TextDecoder("utf-8").decode(n),o._currentString||(i=i.replace(/^\s*/m,"")),o.enqueue(i),e.abrupt("return",o.stream());case 11:case"end":return e.stop()}},e)})),this.delimitter=function(e){o._delimitterString=(o._delimitterString||"")+e;var t=/!!-->>.*?<<--!!/.test(o._delimitterString);t&&(o._parser=new RegExp("}".concat(t[1],"{").replace(/[-[\]{}()*+!<=:?./\\^$|#\s,]/g,"\\$&","g")),o._isParsing=!1,e=o._delimitterString.replace(/!!-->>.*?<<--!!/,""),o._delimitterString="",o.enqueue(e))},this.enqueue=function(e){try{if(e=String((o._currentString||"")+(e||"")),o._currentString="",o._parsedOptions){if(o._isParsing)return o.delimitter(e)}else{if(o._parsedOptions=!0,/^!/.test(e))return o._isParsing=!0,o.delimitter(e,!0);o._parser=/\}[\r\n\s]*\{/g}if(/--JSON--SPLIT--ARRAY--/.test(e)){e=e.replace(/\s*--JSON--SPLIT--ARRAY--\s*/g,"--JSON--SPLIT--ARRAY--").split("--JSON--SPLIT--ARRAY--");for(var t=0;t<e.length;t++)t&&(o.pushCurrent(),o.index++),o.enqueue(e[t]);return o.value}if(o._parser.test(e)){var r="####".concat((new Date).toJSON(),"####");e=e.replace(o._parser,"}".concat(r,"{")).split(r),o._currentString=e[e.length-1]||"";for(var n=0;n<e.length-1;n++)try{o.pushValue(e[n])}catch(t){throw console.log(e[n]),t}}else o._currentString=String(e||"")}catch(t){console.log(e),o.raiseError(t)}},this.read=function(){return o.reader.read()},this.close=function(){return o.pushCurrent(),o.resolve(o.value)},this.cancel=function(){try{throw new Error("JSON Stream Canceled")}catch(e){o.raiseError(e)}},this.raiseError=function(e){console.log(e);try{o.reader.cancel()}catch(e){}return o.reject(e)},this.pushValue=function(e){e=JSON.parse(e),o.value[o.index]||(o.value[o.index]=[]),o.value[o.index].push(e),o.callback(e,o.index)},this.pushCurrent=function(){o._currentString&&o.pushValue(o._currentString),o._currentString=""};var c,u,d=n||{},l=(d.cancel,d.close,Object(m.a)(d,["cancel","close"]));return this._currentString="",this.reader=t.body.getReader(),this.options=l||{},this.value=[[]],this.index=0,this.callback=r||this.logValue,this.promise=new Promise(function(e,t){c=e,u=t}),this.resolve=c,this.reject=u,this.stream(),this},y=r(3),_=function(){function e(){var t=this;s(this,e),this.register=function(e){-1===t.callbacks.indexOf(e)&&t.callbacks.push(e)},this.unregister=function(e){for(var r;-1!==(r=t.callbacks.indexOf(e));)t.callbacks.splice(r,1)},this.sendCallbacks=function(){return t.callbacks.forEach(function(e){return e(t.data,t.lastUpdated,t.offline)})},this.registerStream=function(e){-1===t.streamCallbacks.indexOf(e)&&t.streamCallbacks.push(e)},this.unregisterStream=function(e){for(var r;-1!==(r=t.streamCallbacks.indexOf(e));)t.streamCallbacks.splice(r,1)},this.sendStreamCallbacks=function(e,r){return t.streamCallbacks.forEach(function(t){return t(e,r)})},this.transformData=function(e){var r=(y[t.storeName]||{}).transformKeys;if(!r)return e;var n={};for(var a in r)n[r[a]]=e[a];return n},this.loadContent=Object(i.a)(a.a.mark(function e(){var r,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._loading){e.next=2;break}return e.abrupt("return",t._loading);case 2:return t._loading=new Promise(function(e,t){r=e,n=t}),e.prev=3,e.next=6,t.getLocalData();case 6:t.data=e.sent,t.offline=!0,t.total=t.data.length;try{t.sendCallbacks()}catch(e){}return e.prev=10,e.next=13,t.getServerData();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(10),t.offline=!0,console.log(e.t0);case 19:return t._loading=!1,r(t.lastUpdated),e.abrupt("return",t.lastUpdated);case 24:throw e.prev=24,e.t1=e.catch(3),console.log(e.t1),n(e.t1),t.offline=!0,t.data=[],t.updatedAt="",e.t1;case 32:case"end":return e.stop()}},e,null,[[3,24],[10,15]])})),this.getLocalData=Object(i.a)(a.a.mark(function e(){var r,n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.lastUpdated=!1,i=new Promise(function(e,t){r=e,n=t}),e.next=4,Object(g.b)({storeKey:t.storeName,storeCallback:function(e){return e.then(function(e){for(var n=0;n<e.length;n++)(!t.lastUpdated||t.lastUpdated<e[n].updatedAt)&&(t.lastUpdated=e[n].updatedAt);r(e)}).catch(function(e){return n(e)})}});case 4:return e.next=6,i;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})),this.getServerData=Object(i.a)(a.a.mark(function e(){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/travel/get_model_data/".concat(t.modelName,".json?last_updated=").concat(t.lastUpdated||""),{headers:{"Content-Type":"application/json; charset=utf-8"}});case 3:return r=e.sent,e.next=6,t.parseServerData(r);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,9]])})),this.parseServerData=function(){var e=Object(i.a)(a.a.mark(function e(r){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},i=new v(r,function(e,r){var a=t.mapping[r];"totals"===a?(console.info(a,e),t.total=t.total+(e.total||0),e.total=t.total):a&&(e=t.transformData(e)),n[a]||(n[a]=[]),n[a].push(e),t.sendStreamCallbacks(e,a)}),e.next=3,i.promise;case 3:return e.next=5,t.handleResult(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.handleResult=function(){var e=Object(i.a)(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.deleted){e.next=3;break}return e.next=3,Object(g.a)({storeKey:t.storeName,records:r.deleted});case 3:if(t.offline=!r.records||r.records.length,!r.records||!r.records.length){e.next=12;break}return e.next=7,Object(g.c)({storeKey:t.storeName,records:r.records});case 7:return e.next=9,t.getLocalData();case 9:t.data=e.sent,t.offline=!1,t.sendCallbacks();case 12:return e.abrupt("return",r.records);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.state={data:[],lastUpdated:"",offline:!0,total:0,deleted:0},this.callbacks=[],this.streamCallbacks=[]}var t,r,n;return t=e,(r=[{key:"modelName",get:function(){return this._modelName||null},set:function(e){return this._modelName=String(e||"")||null}},{key:"storeName",get:function(){return this._storeName||this.modelName},set:function(e){return this._storeName=String(e||"")}},{key:"data",get:function(){return this.state.data||[]},set:function(e){return this.state.data=e||[],this.data}},{key:"lastUpdated",get:function(){return this.state.lastUpdated},set:function(e){return this.state.lastUpdated=e||"",this.lastUpdated}},{key:"offline",get:function(){return!!this.state.offline},set:function(e){return this.state.offline=!!e,this.offline}},{key:"total",get:function(){return this.state.total},set:function(e){return this.state.total=+e||0}},{key:"mapping",get:function(){return{0:"totals",1:"records",2:"deleted"}}}])&&h(t.prototype,r),n&&h(t,n),e}(),w=new(function(e){function t(){var e,r;s(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=d(this,(e=l(t)).call.apply(e,[this].concat(a)))).modelName="flight_airports",r.storeName="flightAirports",r}return p(t,_),t}()),x=new(function(e){function t(){var e,r;s(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=d(this,(e=l(t)).call.apply(e,[this].concat(a)))).modelName="flight_legs",r.storeName="flightLegs",r}return p(t,_),t}()),k=new(function(e){function t(){var e,r;s(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=d(this,(e=l(t)).call.apply(e,[this].concat(a)))).modelName="flight_schedules",r.storeName="flightSchedules",r}return p(t,_),t}()),j=new(function(e){function t(){var e,r;s(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=d(this,(e=l(t)).call.apply(e,[this].concat(a)))).modelName="flight_Tickets",r.storeName="flightTickets",r}return p(t,_),t}()),S=new(function(e){function t(){var e,r;s(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=d(this,(e=l(t)).call.apply(e,[this].concat(a)))).modelName="inbound_domestic_flights",r.storeName="inboundDomesticFlights",r}return p(t,_),t}()),O=new(function(e){function t(){var e,r;s(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=d(this,(e=l(t)).call.apply(e,[this].concat(a)))).modelName="travelers",r.storeName="travelers",r}return p(t,_),t}()),I=new(function(e){function t(){var e,r;s(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=d(this,(e=l(t)).call.apply(e,[this].concat(a)))).modelName="users",r.storeName="users",r}return p(t,_),t}()),N=(b={},Object(o.a)(b,w.modelName,w),Object(o.a)(b,x.modelName,x),Object(o.a)(b,k.modelName,k),Object(o.a)(b,j.modelName,j),Object(o.a)(b,S.modelName,S),Object(o.a)(b,O.modelName,O),Object(o.a)(b,I.modelName,I),b);self;if(importScripts("https://storage.googleapis.com/workbox-cdn/releases/4.3.1/workbox-sw.js"),workbox){console.log("Yay! Workbox is loaded 🎉"),workbox.precaching.precacheAndRoute([{url:"apple-touch-icon-114x114.png",revision:"fb203bc71569c5317444950fa2e2bc2c"},{url:"apple-touch-icon-120x120.png",revision:"a26218d3aef83bf93cfc9acb32141990"},{url:"apple-touch-icon-144x144.png",revision:"10f17469f7a6d357ebd4267431a0a79a"},{url:"apple-touch-icon-152x152.png",revision:"7e98425bb4176c80e2fda0caaba05ec4"},{url:"apple-touch-icon-57x57.png",revision:"fe8715a2c7ac0af75709f18e6ba50487"},{url:"apple-touch-icon-60x60.png",revision:"2fc8a42bb3abb0de1df207e4800d5a17"},{url:"apple-touch-icon-72x72.png",revision:"3b358bfe672f732d5e99b815a18e7aeb"},{url:"apple-touch-icon-76x76.png",revision:"8da3b50262d126655b725761af652ed3"},{url:"favicon-128x128.png",revision:"ecaf5a0308abb4cd77df28c25509566d"},{url:"favicon-16x16.png",revision:"8b87fa4031dcb82683d6de1f7fa7c4ea"},{url:"favicon-196x196.png",revision:"0b6780806d00c6611f37f041c95a8217"},{url:"favicon-32x32.png",revision:"c2432b63dc5da55a3c23b11d6aec8777"},{url:"favicon-96x96.png",revision:"2ea816e7ef5d08f6001615f5698b25ba"},{url:"index.html",revision:"68db691b5d7b14f67b259efca945dbfc"},{url:"mstile-144x144.png",revision:"10f17469f7a6d357ebd4267431a0a79a"},{url:"mstile-150x150.png",revision:"1714f3453c9b966deccaa58c720fa91e"},{url:"mstile-310x310.png",revision:"2e3e19a7167b324d5b5150bfd44e376f"},{url:"mstile-70x70.png",revision:"ecaf5a0308abb4cd77df28c25509566d"},{url:"precache-manifest.1e35858b05f4ea6ad00b8d7901363152.js",revision:"1e35858b05f4ea6ad00b8d7901363152"},{url:"static/css/15.2614ebd1.chunk.css",revision:"06428f80331faccbba0edfc93484fcc8"},{url:"static/css/app.45fa6ce8.chunk.css",revision:"8acef7fde88ffc5283a111c3ef13d3ff"},{url:"static/css/atom-loader.c436b3a9.chunk.css",revision:"443704a7bc0b4b75217bd0fba3085a52"},{url:"static/css/component-templates-css.94295593.chunk.css",revision:"70e2e6afc8a470b8341ab6534b20f1aa"},{url:"static/css/index-css.2c19fc9d.chunk.css",revision:"ab14da82c728c4e3c3004f1e542355df"},{url:"static/css/jelly-box-loader.fcff622c.chunk.css",revision:"132d572077be5e67622368d652a4255e"},{url:"static/js/0.8625881a.chunk.js",revision:"c225574aafc19b421dd3297f1d576478"},{url:"static/js/15.b8190d88.chunk.js",revision:"87a0a4e66dbffa935038b9f3edf2f6b5"},{url:"static/js/16.d55c4c22.chunk.js",revision:"cc1a8e0110128dee9bd7632ca9e30b4d"},{url:"static/js/abortcontroller-polyfill.25cebcca.chunk.js",revision:"39ee0832365bddf0dff41b101422881f"},{url:"static/js/app.3a370638.chunk.js",revision:"79850dcd62125be41b525a4dbf8e3ca4"},{url:"static/js/atom-loader.e923564d.chunk.js",revision:"5338e237e01ab0f21cbf68621df84dc5"},{url:"static/js/auth-fetch.513f0ef0.chunk.js",revision:"a44dc2181d447b4689be3cdc10e499dc"},{url:"static/js/component-templates-css.526a270a.chunk.js",revision:"fe75a4cbedc07d84a9b96ef16bb9cc43"},{url:"static/js/fetch-polyfill.17a24253.chunk.js",revision:"d7e881e86834558fce5405dc120979df"},{url:"static/js/home-page.fab3a529.chunk.js",revision:"b006ebb374a299497373487f4265c821"},{url:"static/js/index-css.69541734.chunk.js",revision:"762bd6aaf1239fc5efe7fc4a24657111"},{url:"static/js/jelly-box-loader.e35dfa37.chunk.js",revision:"a963f03b78dd44e0d539c011279f4fba"},{url:"static/js/main.d873b28e.chunk.js",revision:"9e630392df96727b7de8be510a9217d8"},{url:"static/js/proxy-page.2f4d1a94.chunk.js",revision:"2fde97f610d52576c7b7420d0d93ff6d"},{url:"static/js/react.ef2ac64f.chunk.js",revision:"4fc2c61124204d4710640337205c18fc"},{url:"static/js/runtime~main.96bb2519.js",revision:"3005bfa775b21a72b7cf8e83196a13ac"},{url:"static/js/site-polyfills.17742f50.chunk.js",revision:"ccf5b315895ac8b797c8275551a22c3b"},{url:"static/media/dus-logo.f4378276.png",revision:"f43782767fd6f138cbe14dc8d5fbd9d7"}]),self.addEventListener("message",function(e){console.log(e),e.data&&"SKIP_WAITING"===e.data.type&&self.skipWaiting()}),self.addEventListener("sync",function(e){console.log(e)});var A=new workbox.backgroundSync.Plugin("down-under-travel-queue"),E=new workbox.backgroundSync.Plugin("down-under-travel-idb-queue",{onSync:function(){var e=Object(i.a)(a.a.mark(function e(t){var r,n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.queue;case 1:return e.next=3,r.shiftRequest();case 3:if(!(n=e.sent)){e.next=31;break}return e.prev=4,e.next=7,fetch(n.request);case 7:if(i=e.sent,!/\/get_model_data\//.test(n.request.url)){e.next=17;break}return e.prev=9,e.next=12,N[n.request.url.replace(/.*\/get_model_data\//,"").replace(/\.json.*/,"")].parseServerData(i);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.error(e.t0,n);case 17:console.info("Replay successful for request",n),e.next=29;break;case 20:if(e.prev=20,e.t1=e.catch(4),console.error("Replay failed for request",n,e.t1),n.metadata=n.metadata||{retries:5},n.metadata.retries=+(n.metadata.retries||5)-1,!n.metadata.retries){e.next=28;break}return e.next=28,r.pushRequest(n);case 28:throw e.t1;case 29:e.next=1;break;case 31:console.log("Replay complete!");case 32:case"end":return e.stop()}},e,null,[[4,20],[9,14]])}));return function(t){return e.apply(this,arguments)}}()}),P=new workbox.strategies.NetworkOnly({plugins:[A]}),D=new workbox.strategies.NetworkOnly({plugins:[E]}),L=(new workbox.strategies.CacheFirst({cacheName:"cachedAsssets",plugins:[new workbox.expiration.Plugin({maxEntries:60,maxAgeSeconds:2592e3})]}),new workbox.strategies.NetworkFirst({cacheName:"networkedAsssets",networkTimeoutSeconds:25,plugins:[new workbox.expiration.Plugin({maxEntries:60,maxAgeSeconds:2592e3})]}));workbox.routing.registerRoute(/get_model_data/,D),workbox.routing.registerRoute(/.*/,P,"PATCH"),workbox.routing.registerRoute(/.*/,P,"POST"),workbox.routing.registerRoute(/.*/,P,"PUT"),workbox.routing.registerRoute(/.*/,P,"DELETE"),workbox.routing.setDefaultHandler(L)}else console.log("Boo! Workbox didn't load 😬")}]);
//# sourceMappingURL=service-worker.js.map